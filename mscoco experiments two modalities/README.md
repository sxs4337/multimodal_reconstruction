By default the model uses inverse of embedding to reconstruct. Set transpose flag to True for the other case.

### Joint training model with sent2sent vectors (900 dimensional)
```bash
python train_coco.py --configFile sent2vec/seq2seq.ini --dataDir <path to sentence vectors generated by seq2seq model <please refer to the seq2seq folder> --expDir experiments/coco-test-1
```

### Joint training model with skipthought vectors (4800 dimensional)
```bash
python train_coco_skip.py --configFile sent2vec/seq2seq.ini --dataDir <path to skipthoughts data vectors> --expDir experiments/coco-test-skip
```
### Eval Model (GAN validation)
```bash
 python eval_coco_image.py --configFile sent2vec/seq2seq.ini --imagePath caffeNet_TF/dog2.png --modelRoot experiments/coco-test-transpose/model.ckpt-12415 --origPath orig --fc6Path fc6_inv --reconPath recon_inv
```
You should have an npy file which is generated by the above command to execute the eval_sentence script. The npy file is a list of (image_id, caption, caption_vec). Output file is a text file with captions
### Eval Model (Sentence generation from decoder)
```bash
  python eval_sentence.py --configFile sent2vec/seq2seq.ini --infile orig.npy  --outfile noise_0_0.01 --modelRoot <pretrained model>
```

### Generate sentence vectors; Input : text file of captions Output : A pickle file of format (caption_string, caption_vec(1x900d)))
```bash
 python gen_sen_vec.py <path to a text file of captions> caption_vectors.pkl sent2vec/seq2seq.ini
```

### Discrete batch file generates images from the 16 categories that were selected in the paper
```bash
 python discrete_batch.py
```



### Generate coco tf records with skipthought vectors
```bash
TRAIN_IMAGE_DIR=<path to mscoco>/images/train2014/
VAL_IMAGE_DIR=<path to mscoco>/images/val2014/
TRAIN_CAPTIONS_FILE=<path to mscoco>/captions_train2014.json
VAL_CAPTIONS_FILE=<path to mscoco>/captions_val2014.json
OUTPUT_DIR=<path to mscoco>/<output_directory_name>

python skip_thought_data_load.py --train_image_dir="${TRAIN_IMAGE_DIR}" --val_image_dir="${VAL_IMAGE_DIR}" --train_captions_file="${TRAIN_CAPTIONS_FILE}" --val_captions_file="${VAL_CAPTIONS_FILE}" --output_dir="${OUTPUT_DIR}" --word_counts_output_file="${OUTPUT_DIR}/word_counts.txt"
```